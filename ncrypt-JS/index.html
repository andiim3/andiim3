<!DOCTYPE html>
    <head>
        <title>ncryptJS - Javascript Encryption</title>
        <style>
            #box {
                width: 550px;
                position: relative;
                margin: 100px auto;
            }
            textarea {
                margin: 0px;
                width: 263px;
                height: 124px;
            }
            td {
                padding:10px;
            }
            
        </style>
    </head>
    <body>
        <div id="box">
            <table>
                <tr>
                    <td>Original Text</td> <td><textarea type="text" id="originaltxt" onkeyup="doitnow()">This is the new text. Currently only support UTF-8 text. No Binary File is supported yet.</textarea></td>
                </tr><tr>
                    <td>Encryption Key</td> <td><input type="text" id="key" value="Password" onkeyup="doitnow()"></td>
                </tr><tr>
                    <td>Encoded</td> <td><textarea type="text" id="encodedtxt"></textarea></td>
                </tr><tr>
                    <td></td> <td></td>
                </tr><tr>
                    <td>Decrypt Key</td> <td><input type="text" id="key2" value="" onkeyup="doitnow2()"> <br><em>Type the same key as the "Encryption Key"</em></td>
                </tr><tr>
                    <td>Decoded Text</td> <td><textarea type="text" id="decodedtxt">This will change automatically if the Decrypt Key is correct</textarea></td>
                </tr>
            </table>
      
        </div>

        <script src="./ncryptJS-2.js"></script>
        <script>
            function doitnow(){
                let cripto= new ncrypt;
                var theText = document.getElementById("originaltxt").value;
                console.log("Original Text: "+theText);
                var theKey = document.getElementById("key").value;
                console.log("Encryption Key: "+theKey);                                
                var encodedtxt = cripto.encrypt(theKey, theText);
                console.log(encodedtxt);
                document.getElementById("encodedtxt").value = encodedtxt;
            }
            function doitnow2(){
                let cripto= new ncrypt;
                var theKey2 = document.getElementById("key2").value;
                console.log("Decription Key: "+theKey2);                                
                var encodedtxt = document.getElementById("encodedtxt").value;            
                var decodedtxt = cripto.decrypt(theKey2, encodedtxt);
                document.getElementById("decodedtxt").value = decodedtxt;
            }
            doitnow();
            //doitnow2();

        </script>
    </body>
</html>
